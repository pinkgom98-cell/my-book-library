<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‚´ ì„œì¬ ê²€ìƒ‰</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      padding: 40px;
      background-color: #f9f9f9;
      color: #333;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    input[type="text"] {
      display: block;
      margin: 0 auto 20px auto;
      padding: 10px;
      width: 300px;
      font-size: 16px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background-color: white;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #eee;
    }
    #downloadBtn {
      margin: 20px auto;
      display: block;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>ğŸ“š ë‚´ ì„œì¬ ê²€ìƒ‰</h1>
  <input type="text" id="searchInput" placeholder="ì±… ì œëª©ì´ë‚˜ ì €ì ê²€ìƒ‰...">
  <button id="downloadBtn">ğŸ“¥ ì „ì²´ ëª©ë¡ ë‹¤ìš´ë¡œë“œ</button>
  <table id="bookTable">
    <thead>
      <tr>
        <th>ì œëª©</th>
        <th>ì €ì</th>
        <th>ë¶„ë¥˜</th>
        <th>ì¶”ì²œ ëŒ€ìƒ</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>ë¶ˆí¸í•œ í¸ì˜ì  3</td><td>ê¹€í˜¸ì—°</td><td>í•œêµ­ì†Œì„¤</td><td>ë”°ëœ»í•œ ì´ì•¼ê¸°ì™€ ì‚¬ëŒ ì‚¬ëŠ” ëƒ„ìƒˆë¥¼ ì¢‹ì•„í•˜ëŠ” ë…ì</td></tr>
      <tr><td>í•˜ì–¼ë¹ˆ</td><td>ê¹€í›ˆ</td><td>ì—­ì‚¬ì†Œì„¤</td><td>ì•ˆì¤‘ê·¼ê³¼ ê·¼ëŒ€ì‚¬ì— ê´€ì‹¬ ìˆëŠ” ë…ì</td></tr>
      <tr><td>ì„¸ì´ë…¸ì˜ ê°€ë¥´ì¹¨</td><td>ì„¸ì´ë…¸</td><td>ìê¸°ê³„ë°œ</td><td>í˜„ì‹¤ì ì´ê³  ë‹¨ë‹¨í•œ ì¡°ì–¸ì´ í•„ìš”í•œ 20~40ëŒ€ ì§ì¥ì¸</td></tr>
      <tr><td>í”¼í”„í‹° í”¼í”Œ</td><td>ì •ì„¸ë‘</td><td>í•œêµ­ì†Œì„¤</td><td>ì‚¬ëŒë“¤ì˜ ë‹¤ì¸µì  ì‚¶ê³¼ ì—°ê²°ê³ ë¦¬ë¥¼ ì¢‹ì•„í•˜ëŠ” ë…ì</td></tr>
      <tr><td>ë¬¸ê³¼ ë‚¨ìì˜ ê³¼í•™ ê³µë¶€</td><td>ìœ ì‹œë¯¼</td><td>ê³¼í•™ì—ì„¸ì´</td><td>ê³¼í•™ì— ëŒ€í•œ ë‘ë ¤ì›€ì„ ë‚´ë ¤ë†“ê³  ì‹¶ì€ ë¬¸ê³¼ìƒ</td></tr>
      <tr><td>ë©”ë¦¬ê³¨ë“œ ë§ˆìŒ ì„¸íƒì†Œ</td><td>ì´ë¯¸ì˜ˆ</td><td>íë§ì†Œì„¤</td><td>ì§€ì¹œ ì¼ìƒ ì† ìœ„ë¡œì™€ ê°ë™ì´ í•„ìš”í•œ ì‚¬ëŒ</td></tr>
      <tr><td>ì‘ë³„ì¸ì‚¬</td><td>ê¹€ì˜í•˜</td><td>SFì†Œì„¤</td><td>ì¸ê°„ê³¼ ê¸°ê³„, ì¡´ì¬ì— ëŒ€í•œ ì² í•™ì  ì´ì•¼ê¸°ì— ê´€ì‹¬ ìˆëŠ” ë…ì</td></tr>
      <tr><td>ëˆì˜ ì‹¬ë¦¬í•™</td><td>ëª¨ê±´ í•˜ìš°ì ˆ</td><td>ê²½ì œ/ì‹¬ë¦¬</td><td>ë¶€ì™€ ì†Œë¹„ì— ëŒ€í•œ ê¹Šì€ í†µì°°ì„ ì›í•˜ëŠ” ì‚¬ëŒ</td></tr>
      <tr><td>íƒ€ì¸ì˜ í•´ì„</td><td>ë§ì½¤ ê¸€ë˜ë“œì›°</td><td>ì‚¬íšŒì‹¬ë¦¬</td><td>ì‚¬ëŒë“¤ì˜ í–‰ë™ê³¼ ì‹¬ë¦¬ë¥¼ ë” ê¹Šì´ ì´í•´í•˜ê³  ì‹¶ì€ ì‚¬ëŒ</td></tr>
      <tr><td>ì•„ì£¼ í¬ë¯¸í•œ ë¹›ìœ¼ë¡œë„</td><td>ìš”ë‚˜ìŠ¤ ìš”ë‚˜ì†</td><td>í•´ì™¸ì†Œì„¤</td><td>ìœ ì¾Œí•œ ì´ì•¼ê¸°ì™€ ë…íŠ¹í•œ ì¸ë¬¼ êµ¬ì„±ì„ ì¢‹ì•„í•˜ëŠ” ë…ì</td></tr>
    </tbody>
  </table>

  <script>
    const searchInput = document.getElementById("searchInput");
    const table = document.getElementById("bookTable");
    searchInput.addEventListener("keyup", () => {
      const filter = searchInput.value.toLowerCase();
      const rows = table.getElementsByTagName("tr");
      for (let i = 1; i < rows.length; i++) {
        const cells = rows[i].getElementsByTagName("td");
        const rowText = [...cells].map(cell => cell.textContent.toLowerCase()).join(" ");
        rows[i].style.display = rowText.includes(filter) ? "" : "none";
      }
    });

    document.getElementById("downloadBtn").addEventListener("click", () => {
      let csv = "ì œëª©,ì €ì,ë¶„ë¥˜,ì¶”ì²œ ëŒ€ìƒ\n";
      const rows = table.querySelectorAll("tbody tr");
      rows.forEach(row => {
        if (row.style.display !== "none") {
          const cols = row.querySelectorAll("td");
          csv += [...cols].map(td => '"' + td.innerText.replace(/"/g, '""') + '"').join(",") + "\n";
        }
      });
      const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
      const link = document.createElement("a");
      link.setAttribute("href", URL.createObjectURL(blob));
      link.setAttribute("download", "my_books.csv");
      link.click();
    });
  </script>
</body>
</html>
